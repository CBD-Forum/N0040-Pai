webpackJsonp([11,0],{0:function(module,exports,e){(function($){"use strict";var a=e(2),t=e(6),r=e(3);e(7),e(9),e(26);var n=60,i=new r.Toast,d=function(){$("#validate-btn").attr({disabled:"disabled"}).addClass("disabled"),$("#register").on("click",function(e){var r=$("#userName").val().trim();if(r.length<6)return void alert("帐号名称不能为空,　长度不能少于6个字符");var n=$("#pwd1").val().trim(),d=$("#pwd").val().trim();if(d!=n)return void alert("输入的密码不一致");var l=$("#code").val().trim();if(l.length<1)return void alert("邀请码不能为空");var s=$("#tel").val().trim();if(s.length<1)return void alert("手机号不能为空");var o=$("#validator").val();if(o.length<1)return void alert("验证码不能为空");var v=new a.RestApi,c={username:r,password:d,confirmedPassword:n,phone:s,email:$("#email").val().trim(),code:l,smsCode:o};$("#register").attr({disabled:"disabled"}).addClass("disabled"),v.register(c).then(function(e){if($("#register").removeAttr("disabled").removeClass("disabled"),0!=e.code)return i.show({content:e.msg});var a=new t.Auth,r=e.data;a.addUserInfo({userid:r.id,username:r.username,nickname:r.nickname}),window.location.href="/index.html"},function(e,a){$("#register").removeAttr("disabled").removeClass("disabled"),i.show({content:e.responseJSON.msg})})}),$("#validate-btn").on("click",function(e){var t=$("#tel").val().trim();if(t.length<1)return void alert("手机号不能为空");$("#validate-btn").addClass("disabled");var r=new a.RestApi;r.sendCode({phone:t}).then(function(e){if(0!=e.code)return alert(e.msg);var a=n,t=setInterval(function(){$("#validate-btn").val(--a+"秒后重发"),a<=0&&(a=n,$("#validate-btn").removeClass("disabled").val("获取验证码"),clearInterval(t))},1e3)},function(e,a){console.log(a)})})};$(function(){d()})}).call(exports,e(1))},26:7});
//# sourceMappingURL=register-1ac21aba.js.map