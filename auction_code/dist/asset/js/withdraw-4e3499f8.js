webpackJsonp([9,0],{0:function(module,exports,t){(function($){"use strict";var e=t(6),n=t(5),o=t(4),i=t(2);t(7),t(9),t(28);var a=function(){new n.Header("module",".header",function(){$("#top-nav-login").hide(),$("div[class=webNav] .page-title").text("井通币转出").show()}),new o.Footer("module",".footer")},r=function(){$(".withdraw-err").hide(),$("#withdraw-confirm").on("click",function(t){$("#withdraw-confirm").attr({disabled:"disabled"}).addClass("disabled"),$(".withdraw-err").hide();var n=$("#fees").val().trim();if(null==n||n.length<1)return void $("#fees-err").show();var o=$("#address").val().trim();if(null==o||o.length<1)return void $("#address-err").show();var a=$("#pwd").val().trim();if(null==a||a.length<1)return void $("#pwd-err").show();var r=new i.RestApi,s=new e.Auth;r.transfer({amount:n,address:o,password:a}).then(function(t){return 0!=t.code||null==t.data?void $("#withdraw-confirm").removeAttr("disabled").removeClass("disabled"):void(window.location.href="./account.html#finance")},function(t,e){return 403==t.status?(s.deleteUserInfo(),window.location.href="./login.html?ref="+window.location.href):($("#withdraw-confirm").removeAttr("disabled").removeClass("disabled"),void console.log(e))})})},s=function(){c()},l=function(t){for(var e=!1,n=0,o=0;o<t.length;++o){var i=t[o];if("8200000005000020170006000000000020000001"==i.currency){n=i.value,e=!0;break}}$("#lbl-balance").text(n+"COINS")},c=function(){var t=new i.RestApi,n=new e.Auth;t.get("/v1/user/balance").then(function(t){0==t.code&&null!=t.data&&l(t.data)},function(t,e){return 403==t.status?(n.deleteUserInfo(),window.location.href="./login.html?ref="+window.location.href):void console.log(e)})};$(function(){a(),r(),s()})}).call(exports,t(1))},4:function(module,exports,t){(function($){"use strict";var t=function(){function t(module,t,e){var n=this;this.selector="footer",this.template="",this.className="",this.isSelectorLoaded=!1,this.className=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(o){$(t).html(o),n.isSelectorLoaded=!0,n.init(),e&&e()},function(t){console.log(t)})}return t.prototype.init=function(){},t}();exports.Footer=t}).call(exports,t(1))},5:function(module,exports,t){(function($){"use strict";var e=t(6),n=t(2),o=t(3),i=function(){function t(module,t,i){this.selector="header",this.template="",this.className="",this.isSelectorLoaded=!1,this.auth=new e.Auth,this.toast=new o.Toast,this.restApi=new n.RestApi,this.className=t;var a=this;this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(e){$(t).html(e),a.isSelectorLoaded=!0,i&&i(),a.init()},function(t,e){console.log(e)})}return t.prototype.setLoginStatus=function(t){t?($("#top-nav-login").show(),$("#top-nav-logout").hide(),$("#top-nav-login #login-name").text("您好，"+t)):($("#top-nav-login").hide(),$("#top-nav-logout").show())},t.prototype.init=function(){var t=this,e=this.auth.getUserInfo();if(null==e){var n=this.restApi.getParameter("type");"1"==n?this.restApi.get("/v1/user").then(function(e){var n=null;if(0==e.code){var o=e.data,i=o?o.username:null;i?(t.auth.addUserInfo({userid:o.id,username:i,nickname:o.nickname}),n=o.nickname):console.log(e)}else t.toast.show({content:"登录失败"+e.msg});t.setLoginStatus(n)}):this.setLoginStatus(null)}else this.setLoginStatus(e.nickname);$("#top-nav-login #safety-quit").on("click",function(e){t.restApi.logout().then(function(e){t.auth.deleteUserInfo(),window.location.href="/login.html"},function(e,n){t.auth.deleteUserInfo(),window.location.href="/login.html"})})},Object.defineProperty(t.prototype,"auth1",{get:function(){return this.auth},set:function(t){this.auth=t},enumerable:!0,configurable:!0}),t}();exports.Header=i}).call(exports,t(1))},28:7});
//# sourceMappingURL=withdraw-4e3499f8.js.map