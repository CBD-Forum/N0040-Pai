webpackJsonp([3,0],[function(module,exports,t){(function($){"use strict";t(7),t(9),t(21);var e=t(16),i=t(5),n=t(4),o=t(41),s={params:{},routes:["transaction","faq","about"],defaultRoute:"transaction"},a=function(){var t=window.location.href.split("#")[1];t=t||s.defaultRoute,$("div[class=webNav] ul li a").each(function(e){"#"+t===$(this).attr("href")&&($("div[class=webNav] ul").children(".selected").removeClass("selected"),$(this).parent().addClass("selected"))})},r=function(){$("div[class=webNav] ul li a").on("click",function(t){return t.stopPropagation(),!$(this).parent().hasClass("selected")&&($("div[class=webNav] ul").children(".selected").removeClass("selected"),void $(this).parent().addClass("selected"))})},l=function(){for(var t=new e.Routes,i=0;i<s.routes.length;++i)t.map(s.routes[i],function(t){var e=t.path.toLowerCase(),i=e.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()});new o[i]("home","#router-outlet")});t.init(s.defaultRoute)},h=function(){new i.Header("module",".header",function(){var t='\n       <ul>\n          <li class="selected"><a href="#transaction">首页</a></li>\n          <li class=""><a href="#faq">常见问题</a></li>\n          <li class=""><a href="#about">关于</a></li>\n       </ul>\n    ';$("div[class=webNav]").append(t),a(),r()}),new n.Footer("module",".footer")};$(function(){l(),h()})}).call(exports,t(1))},,,,function(module,exports,t){(function($){"use strict";var t=function(){function t(module,t,e){var i=this;this.selector="footer",this.template="",this.className="",this.isSelectorLoaded=!1,this.className=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(n){$(t).html(n),i.isSelectorLoaded=!0,i.init(),e&&e()},function(t){console.log(t)})}return t.prototype.init=function(){},t}();exports.Footer=t}).call(exports,t(1))},function(module,exports,t){(function($){"use strict";var e=t(6),i=t(2),n=t(3),o=function(){function t(module,t,o){this.selector="header",this.template="",this.className="",this.isSelectorLoaded=!1,this.auth=new e.Auth,this.toast=new n.Toast,this.restApi=new i.RestApi,this.className=t;var s=this;this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(e){$(t).html(e),s.isSelectorLoaded=!0,o&&o(),s.init()},function(t,e){console.log(e)})}return t.prototype.setLoginStatus=function(t){t?($("#top-nav-login").show(),$("#top-nav-logout").hide(),$("#top-nav-login #login-name").text("您好，"+t)):($("#top-nav-login").hide(),$("#top-nav-logout").show())},t.prototype.init=function(){var t=this,e=this.auth.getUserInfo();if(null==e){var i=this.restApi.getParameter("type");"1"==i?this.restApi.get("/v1/user").then(function(e){var i=null;if(0==e.code){var n=e.data,o=n?n.username:null;o?(t.auth.addUserInfo({userid:n.id,username:o,nickname:n.nickname}),i=n.nickname):console.log(e)}else t.toast.show({content:"登录失败"+e.msg});t.setLoginStatus(i)}):this.setLoginStatus(null)}else this.setLoginStatus(e.nickname);$("#top-nav-login #safety-quit").on("click",function(e){t.restApi.logout().then(function(e){t.auth.deleteUserInfo(),window.location.href="/login.html"},function(e,i){t.auth.deleteUserInfo(),window.location.href="/login.html"})})},Object.defineProperty(t.prototype,"auth1",{get:function(){return this.auth},set:function(t){this.auth=t},enumerable:!0,configurable:!0}),t}();exports.Header=o}).call(exports,t(1))},,,,,,,,,,,function(module,exports){"use strict";var t=function(){function t(){this.routers={},this.defaultRouter="",this.beforeFun=void 0,this.afterFun=void 0}return t.prototype.init=function(t){this.defaultRouter=t;var e=this;window.addEventListener("load",function(){e.urlChange()}),window.addEventListener("hashchange",function(){e.urlChange()})},t.prototype.map=function(t,e){t=t.replace(/\s*/g,""),e&&"[object Function]"===Object.prototype.toString.call(e)?this.routers[t]={callback:e,fn:null}:console.trace("注册"+t+"地址需要提供正确的的注册回调")},t.prototype.refresh=function(t){this.beforeFun?this.beforeFun({to:{path:t.path,query:t.query},next:function(){this.routers[t.path].callback.call(this,t)}}):this.routers[t.path].callback.call(this,t)},t.prototype.getParamsUrl=function(){var t=location.href.indexOf("?"),e=location.href.indexOf("#"),i={},n=location.hash.split("?"),o=n[0].split("#")[1];if(t>e)for(var s=n[1]?n[1].split("&"):[],a=0;a<s.length;a++){var r=s[a].split("=");i[r[0]]=r[1]}else for(var s=location.href.substring(t+1,e).split("&"),a=0;a<s.length;a++){var r=s[a].split("=");i[r[0]]=r[1]}return{path:o,query:i}},t.prototype.urlChange=function(){var t=this.getParamsUrl();this.routers[t.path]?this.refresh(t):this.defaultRouter&&(location.hash=this.defaultRouter)},t.prototype.beforeEach=function(t){"[object Function]"===Object.prototype.toString.call(t)?this.beforeFun=t:console.trace("路由切换前钩子函数不正确")},t.prototype.afterEach=function(t){"[object Function]"===Object.prototype.toString.call(t)?this.afterFun=t:console.trace("路由切换后回调函数不正确")},t}();exports.Routes=t},,,,,7,,,,,,7,,,,,,,,,function(module,exports,t){(function($){"use strict";var t=function(){function t(t,e){this.option={speed:"3000",a_speed:"500",conuntW:"1180",countH:"530",w1:"800",h1:"530",w2:"190",h2:"500"},this.half=0,this.imgContainer=null,this.li=null,this.imgContainer=t,this.option=$.extend(this.option,e||{});var i=this.imgContainer.find("ul.slide-img");this.li=i.children("li");var n=i.children("li").length;this.half=n/2,n%2==0&&(this.half=this.half-1),this.init()}return t.prototype.init=function(){var t=this.imgContainer.find("ul.slide-img"),e=this.imgContainer.find(".i_btn"),i=t.children("li.on"),n=this;this.number=this.now_show(this.li),this.pos_dex(this.number),this.T=setInterval(function(){n.ss(),n.pos_dex(n.number)},n.option.speed),e.unbind("click").click(function(){clearInterval(n.T),n.number=n.now_show(n.li);var t=parseInt($(this).attr("tip"));0==t?0==n.number?n.number=length-1:n.number=n.number-1:n.number==length-1?n.number=0:n.number=n.number+1,i.is(":animated")||(n.pos_dex(n.number),n.T=setInterval(function(){n.ss(),n.pos_dex(n.number)},n.option.speed))}),t.on("click","li.on .icon",function(){clearInterval(n.T),$(this).hide(),$(this).siblings(".info").show(),$(this).siblings(".bg").show()}),this.li.on("click",".info i",function(){return $(this).parent(".info").siblings(".icon").show(),$(this).parent(".info").hide(),$(this).parent(".info").siblings(".bg").hide(),n.number=n.now_show(this.li),setTimeout(function(){n.T=setInterval(function(){n.ss(),n.pos_dex(n.number)},n.option.speed)},300),!1})},t.prototype.pos_dex=function(t){var e,i=this.li.length;this.li.eq(t).attr("class","on"),this.li.eq(t).find(".icon").show(),this.li.eq(t).siblings("li").find(".bg").hide(),this.li.eq(t).siblings("li").find(".info").hide();for(var n=(this.option.conuntW-this.option.w1)/2,o=(this.option.countH-this.option.h1)/2,s=this.option.conuntW-this.option.w2,a=(this.option.countH-this.option.h2)/2,r=this.option.w2,l=this.option.h2,h=this.option.w1,c=this.option.h1,u=1;u<=this.half;u++){e=t+u,i-=u,e==this.li.length&&(e=0),this.li.eq(e).css("z-index",i),this.li.eq(e).attr("class","right"),this.li.eq(e).animate({left:s,width:r,height:l,top:a},this.option.a_speed);var p=t-u;p==-1&&(p=this.li.length-1),this.li.eq(p).attr("class","left"),this.li.eq(p).css("z-index",i),this.li.eq(p).animate({left:"0px",width:r,height:l,top:a},this.option.a_speed)}this.li.length%2==0&&(this.li.eq(e+1).attr("class","mid"),this.li.eq(e+1).css("z-index",i-2),this.li.eq(e+1).animate({left:s,width:r,height:l,top:a},this.option.a_speed)),this.li.eq(t).css("z-index",parseInt(this.li.length)+3),this.li.eq(t).animate({left:n,width:h,height:c,top:o},this.option.a_speed)},t.prototype.now_show=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];$(n).hasClass("on")&&(e=i)}return e},t.prototype.ss=function(){this.number=this.number+1,this.number==this.li.length&&(this.number=0)},t}();exports.Slider=t}).call(exports,t(1))},,,function(module,exports,t){(function($){"use strict";var t=function(){function t(module,t){var e=this;this.selector="about",this.template="",this.containerId="",this.isSelectorLoaded=!1,this.containerId=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(i){$(t).html(i),e.isSelectorLoaded=!0,e.init()},function(t){console.log(t)})}return t.prototype.init=function(){},t}();exports.About=t}).call(exports,t(1))},function(module,exports,t){(function($){"use strict";var t=function(){function t(module,t){var e=this;this.selector="faq",this.template="",this.containerId="",this.isSelectorLoaded=!1,this.containerId=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(i){$(t).html(i),e.isSelectorLoaded=!0,e.init()},function(t){console.log(t)})}return t.prototype.init=function(){},t}();exports.Faq=t}).call(exports,t(1))},function(module,exports,t){"use strict";function e(t){for(var e in t)exports.hasOwnProperty(e)||(exports[e]=t[e])}e(t(42)),e(t(43)),e(t(40)),e(t(39))},function(module,exports,t){(function($){"use strict";t(27);var e=t(36),i=function(){function t(module,t){var e=this;this.selector="pro",this.template="",this.containerId="",this.isSelectorLoaded=!1,this.containerId=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(i){$(t).html(i),e.isSelectorLoaded=!0,e.init()},function(t){console.log(t)})}return t.prototype.init=function(){var t={w2:"180",h2:"490"};new e.Slider($(".image-container"),t)},t}();exports.Pro=i}).call(exports,t(1))},function(module,exports,t){(function($){"use strict";var e=t(2),i=function(){function t(module,t){var i=this;this.selector="transaction",this.template="",this.containerId="",this.isSelectorLoaded=!1,this.restApi=new e.RestApi,this.serverTime=null,this.typeId=-1,this.page=1,this.pageSize=4,this.containerId=t,this.template="./"+module+"/"+this.selector+".html",$.when($.ajax(this.template)).then(function(e){$(t).html(e),i.isSelectorLoaded=!0,i.init()},function(t){console.log(t)})}return t.prototype.init=function(){var t=this;$(".typeid-btn").on("click",function(e){$(".auction-list").empty(),t.typeId=$(this).data("typeid"),t.requestGoodsList({typeid:t.typeId},{page:1,pageSize:t.pageSize})}),this.requestGoodsList(null,{page:1,pageSize:this.pageSize}),this.scrollBottomRequest()},t.prototype.scrollBottomRequest=function(){var t=this,e=500;$(document).ready(function(){$(window).scroll(function(){var i=$(window),n=i.height(),o=i.scrollTop(),s=$(document).height();if(e+o>=s-n){t.page+=1;var a=null;t.typeId>=0&&(a={typeid:t.typeId}),t.requestGoodsList(a,{page:t.page,pageSize:t.pageSize})}})})},t.prototype.requestGoodsList=function(t,e){var i=this,n="";t&&t.typeid&&(n+="typeid="+t.typeid),""!=n&&(n+="&"),n+="page="+e.page+"&pageSize="+e.pageSize,this.restApi.getGoodsList(n).then(function(t){if(null!=t&&0==t.code&&null!=t.data){var e=0;i.serverTime=t.timestamp;for(var n=0;n<t.data.length;n+=2){var o="<div class='row default-margin'>";e=n,o+=i.addGoods(t.data[n]),n+1<t.data.length&&(o+=i.addGoods(t.data[n+1]),e=n+1),o+="</div>",$(".auction-list").append(o)}}},function(t,e){console.log(e)})},t.prototype.addGoods=function(e){var i=1e3*e.starttime,n=i+1e3*e.totalauction,o=new Date(i),s=o.getFullYear(),a=o.getMonth(),r=o.getDate(),l=o.getHours(),h=o.getMinutes(),c=o.getSeconds(),u=s+"-"+(a+1)+"-"+r+" "+t.formatDateNumber(l)+":"+t.formatDateNumber(h)+":"+t.formatDateNumber(c),p=Number(e.baseprice).toFixed(2),d="";this.serverTime<i?d="即将开始":0==e.status&&this.serverTime>=i&&this.serverTime<=n?d="进行中":(1==e.status||this.serverTime>n)&&(d="已结束");var f=e.images&&e.images.length>0?e.images[0]:"";return'\n    <div class="col-md-6 text-left default-margin">\n      <a href="./paimai.html?id='+e.id+'" target="_blank">\n        <img src="'+f+'" class="auction-img-normal">\n      </a>\n\n      <div class="text-center auction-time-span">\n        <span ></span>\n        <span>开始时间:</span>\n        <span>'+u+'</span>\n      </div>\n      <div class="title">'+e.goodsname+'</div>\n      <div class="col-md-3 text-left price">￥'+p+'</div>\n      <div class="col-md-4 text-left visit-count">\n        <span>围观人数:</span>\n        <span>'+e.visitcount+'</span>\n      </div>\n      <div class="col-md-5 text-right status">\n        <div class="triangle-left"></div>\n        <div class="rectangle">'+d+"</div>\n      </div>\n    </div>\n    "},t.formatDateNumber=function(t){return t<10?"0"+t:t},t}();exports.Transaction=i}).call(exports,t(1))}]);
//# sourceMappingURL=home-099eb7e3.js.map